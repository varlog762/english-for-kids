!function(){"use strict";var t,e={123:function(t,e,r){var i=JSON.parse('{"animals":[["Dog","Собака"],["Cat","Кошка"],["Elephant","Слон"],["Lion","Лев"],["Giraffe","Жираф"],["Monkey","Обезьяна"],["Bear","Медведь"],["Tiger","Тигр"]],"vegetables":[["Potato","Картошка"],["Cucumber","Огурец"],["Tomato","Помидор"],["Pumpkin","Тыква"],["Carrot","Морковка"],["Onion","Лук"],["Cabbage","Капуста"],["Garlic","Чеснок"]],"colors":[["Red","Красный"],["Blue","Синий"],["Yellow","Желтый"],["Green","Зеленый"],["Orange","Оранжевый"],["Pink","Розовый"],["Purple","Фиолетовый"],["Brown","Коричневый"]],"insects":[["Butterfly","Бабочка"],["Bee","Пчела"],["Ant","Муравей"],["Ladybug","Божья коровка"],["Spider","Паук"],["Grasshopper","Кузнечик"],["Mosquito","Комар"],["Beetle","Жук"]],"birds":[["Crow","Ворона"],["Duck","Утка"],["Hen","Курица"],["Ostrich","Страус"],["Owl","Сова"],["Parrot","Попугай"],["Peacock","Павлин"],["Pigeon","Голубь"]],"clothes":[["T-Shirt","Футболка"],["Dress","Платье"],["Pants","Штаны"],["Sweater","Свитер"],["Jacket","Куртка"],["Hat","Шляпа"],["Socks","Носки"],["Sneakers","Кроссовки"]],"transport":[["Car","Машина"],["Bus","Автобус"],["Bicycle","Велосипед"],["Truck","Грузовик"],["Motorcycle","Мотоцикл"],["Train","Поезд"],["Helicopter","Вертолет"],["Airplane","Самолет"]],"fruits":[["Apple","Яблоко"],["Banana","Банан"],["Pear","Груша"],["Strawberry","Клубника"],["Grape","Виноград"],["Pineapple","Ананас"],["Watermelon","Арбуз"],["Apricot","Абрикос"]]}');class s{constructor(t,e){this.categoryName=t,this.ImagePath=e,this.childrenCollection=[]}createCardHTML(){const t=document.createElement("div");t.classList.add("card","category-card"),t.setAttribute("id",this.categoryName);const e=f("figure",t,"card-figure"),r=f("img",e,"card-img");r.setAttribute("src",this.ImagePath),r.setAttribute("alt",this.categoryName);f("figcaption",e,"card-title").innerHTML=this.categoryName;const i=f("button",t,"card-play-btn");return i.setAttribute("type","button"),i.innerHTML="Play",t}addChildToCollection(t){this.childrenCollection.push(t)}}class a extends s{constructor(t,e,r,i,s){super(t,e),this.word=r,this.wordTranslation=i,this.soundPath=s,this.clickedOnTrainMode,this.correctAnswersNum,this.incorrectAnswersNum,this.winRate}get clickedOnTrainMode(){var t;const e=null!==(t=JSON.parse(localStorage.getItem(this.word)))&&void 0!==t&&t;return e?e.trained:0}set clickedOnTrainMode(t){this.clickedOnTrainMode=t}get correctAnswersNum(){var t;const e=null!==(t=JSON.parse(localStorage.getItem(this.word)))&&void 0!==t&&t;return e?e.correct:0}set correctAnswersNum(t){this.correctAnswersNum=t}get incorrectAnswersNum(){var t;const e=null!==(t=JSON.parse(localStorage.getItem(this.word)))&&void 0!==t&&t;return e?e.incorrect:0}set incorrectAnswersNum(t){this.incorrectAnswersNum=t}get winRate(){const t=this.correctAnswersNum+this.incorrectAnswersNum;return 0===t?0:Math.round(this.correctAnswersNum/t*100)}set winRate(t){this.winRate=t}playSound(){new Audio(this.soundPath).play()}createCardHTML(){const t=document.createElement("div");t.parent=this,t.classList.add("card","word-card"),w(t,{id:this.word,category:this.categoryName});const e=f("div",t,"word-card-front-side"),r=f("div",t,"word-card-back-side"),i=f("figure",e,"card-figure"),s=(f("button",e,"card-rotate-btn"),f("figure",r,"card-figure")),a=f("img",i,"card-img"),n=f("img",s,"card-img");w(a,{src:this.ImagePath,alt:this.word}),w(n,{src:this.ImagePath,alt:this.word});const o=f("figcaption",i,"card-title"),c=f("figcaption",s,"card-title");return o.classList.add("word-card-title"),o.innerHTML=this.word,c.innerHTML=this.wordTranslation,t}}function n(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class o{constructor(t){n(this,"clickHanlerForCheckAnswer",(t=>this.checkAnswer(t))),n(this,"repeatButtonClickHandler",(()=>this.playingCard.parent.playSound())),this.mainContainer=document.querySelector(".main-container"),this.badgesContainer=document.querySelector(".badges-container"),this.badgesCollection=[],this.wordCardsCollection=t,this.playingCard,this.attemtsToWin=this.wordCardsCollection.length,this.attemts=0,this.bigPlayButton=document.querySelector(".play-button"),this.popupContainer=document.querySelector(".popup-container")}startGame(){this.playCard(),this.playSound("start-game"),this.changePlayButton("gameStarted"),this.mainContainer.addEventListener("click",this.clickHanlerForCheckAnswer),document.body.addEventListener("click",(t=>{(t.target.closest(".switch")||t.target.closest(".brgr-menu-item"))&&this.stopGame()}))}getRandomCardIndex(t){return Math.floor(Math.random()*t)}playCard(){const t=this.getRandomCardIndex(this.wordCardsCollection.length);this.playingCard=this.wordCardsCollection[t],setTimeout((()=>this.playingCard.parent.playSound()),1500)}checkAnswer(t){const e=t.target.closest(".unplayed-word");e&&(e===this.playingCard?this.indicatePositiveAnswer():this.indicateNegativeAnswer())}indicatePositiveAnswer(){this.playSound("positive-answer"),this.createBadgeAndShow("positive"),this.attemts++,T(this.playingCard.parent.word,0,1,0),this.playingCard.classList.add("played-card"),this.playingCard.classList.remove("unplayed-word"),this.checkGameOver()}indicateNegativeAnswer(){this.playSound("negative-answer"),this.createBadgeAndShow("negative"),this.attemts++,T(this.playingCard.parent.word,0,0,1)}createBadgeAndShow(t){const e=this.createBadge(t),r=document.createDocumentFragment();this.badgesCollection.push(e),this.badgesCollection.forEach((t=>r.append(t))),this.badgesContainer.innerHTML="",this.badgesContainer.append(r)}createBadge(t){const e=document.createElement("div");return e.classList.add("".concat(t,"-badge")),e}checkGameOver(){0===this.wordCardsCollection.length?this.gameOver():this.playCard()}gameOver(){setTimeout((()=>{if(this.bigPlayButton.style.visibility="hidden",this.badgesContainer.style.visibility="hidden",this.mainContainer.innerHTML="",document.body.classList.add("body-not-scroll"),this.attemts>this.attemtsToWin){const t=document.querySelector(".mistakes-number"),e=this.attemts-this.attemtsToWin;console.log(e,this.attemts,this.attemtsToWin),this.playSound("lose"),this.popupContainer.classList.add("popup-container-visible-lose"),t.innerHTML=1===e?"1 mistake":"".concat(e," mistakes")}else this.playSound("win"),this.popupContainer.classList.add("popup-container-visible-win")}),1e3),setTimeout((()=>location.reload()),5e3)}playSound(t){new Audio("./assets/audio/".concat(t,".mp3")).play()}changePlayButton(t){"gameStarted"===t?(this.bigPlayButton.classList.add("play-button-to-repeat"),this.bigPlayButton.innerHTML="repeat",this.bigPlayButton.addEventListener("click",this.repeatButtonClickHandler)):(this.bigPlayButton.classList.remove("play-button-to-repeat"),this.bigPlayButton.innerHTML="play",this.bigPlayButton.removeEventListener("click",this.repeatButtonClickHandler))}stopGame(){this.mainContainer.removeEventListener("click",this.clickHanlerForCheckAnswer),this.playingCard,this.badgesContainer.innerHTML="",this.badgesCollection=[],this.attemts=0,this.changePlayButton("gameStoped"),this.bigPlayButton.addEventListener("click",E,{once:!0})}}r(3315);class c{constructor(t,e){this.main=document.querySelector(".main"),this.mainContainer=t,this.difficultWordsCollection=[],this.wordsCollection=e.flatMap((t=>t.childrenCollection||[])),console.log(Array.isArray(this.wordsCollection)),this.statisticTableHeaders=["category","word","translation","trained","correct","incorrect","%"],this.statisticTable,this.trainDifficultBtn,this.gameElementsContainer=document.querySelector(".game-elements-container")}createAndShowStatisticButtons(){const t=document.createElement("div");t.classList.add("statistic-btns-container");const e=f("button",t,"statistic-clear-btn");e.classList.add("statistic-btn"),e.setAttribute("type","button"),e.id="clearBtn",e.innerText="reset",this.trainDifficultBtn=f("button",t,"train-difficult-btn"),this.trainDifficultBtn.classList.add("statistic-btn"),this.trainDifficultBtn.setAttribute("type","button"),this.trainDifficultBtn.innerText="train difficult",this.mainContainer.innerHTML="",this.main.classList.add("main-for-statistic"),this.mainContainer.append(t)}createAndShowStatisticHead(){this.statisticTable=document.createElement("div"),this.statisticTable.classList.add("statistic-table");const t=f("thead",this.statisticTable,"statistic-table-head"),e=f("tr",t,"statistic-table-head-row");return this.statisticTableHeaders.forEach((t=>{const r=f("th",e,"statistic-table-head-item");r.id=t,r.innerHTML="trained"===t||"correct"===t||"incorrect"===t?'<div class="'.concat(t,'-table-header"></div>'):t})),t.addEventListener("click",(t=>this.sortStatisticTable(t))),this.mainContainer.append(this.statisticTable),this.statisticTable}createAndShowStatisticBody(){const t=f("tbody",this.statisticTable,"statistic-table-body");this.wordsCollection.forEach((e=>{const r=f("tr",t,"statistic-table-body-row"),i=f("td",r,"statistic-table-body-data"),s=f("td",r,"statistic-table-body-data"),a=f("td",r,"statistic-table-body-data"),n=f("td",r,"statistic-table-body-data"),o=f("td",r,"statistic-table-body-data"),c=f("td",r,"statistic-table-body-data"),d=f("td",r,"statistic-table-body-data");i.innerText=e.categoryName,s.innerText=e.word,a.innerText=e.wordTranslation,n.innerText=e.clickedOnTrainMode,o.innerText=e.correctAnswersNum,c.innerText=e.incorrectAnswersNum,d.innerText=e.winRate})),this.statisticTable.append(t),this.trainDifficultBtn.addEventListener("click",(()=>this.createDifficultWordsCollection()))}sortStatisticTable(t){const e=t.target.closest(".statistic-table-head-item");if(e.classList.contains("sorted")||e.classList.contains("reverse"))this.wordsCollection.reverse(),this.markHeaderAsSorted(e,"reverse");else switch(e.id){case"category":this.wordsCollection.sort(((t,e)=>this.sortArray(t,e,"categoryName"))),this.markHeaderAsSorted(e,"sorted");break;case"word":this.wordsCollection.sort(((t,e)=>this.sortArray(t,e,"word"))),this.markHeaderAsSorted(e,"sorted");break;case"translation":this.wordsCollection.sort(((t,e)=>this.sortArray(t,e,"wordTranslation"))),this.markHeaderAsSorted(e,"sorted");break;case"trained":this.wordsCollection.sort(((t,e)=>this.sortArray(t,e,"clickedOnTrainMode"))).reverse(),this.markHeaderAsSorted(e,"sorted");break;case"correct":this.wordsCollection.sort(((t,e)=>this.sortArray(t,e,"correctAnswersNum"))).reverse(),this.markHeaderAsSorted(e,"sorted");break;case"incorrect":this.wordsCollection.sort(((t,e)=>this.sortArray(t,e,"incorrectAnswersNum"))).reverse(),this.markHeaderAsSorted(e,"sorted");break;case"%":this.wordsCollection.sort(((t,e)=>this.sortArray(t,e,"winRate"))).reverse(),this.markHeaderAsSorted(e,"sorted")}this.statisticTable.lastChild.remove(),this.createAndShowStatisticBody()}markHeaderAsSorted(t,e){const r=Array.from(this.statisticTable.firstChild.firstChild.children);r.forEach((t=>t.classList.remove("sorted"))),r.forEach((t=>t.classList.remove("reverse"))),t.classList.add(e)}sortArray(t,e,r){const i=t[r],s=e[r];return i<s?-1:i>s?1:0}createDifficultWordsCollection(){this.wordsCollection.sort(((t,e)=>this.sortArray(t,e,"incorrectAnswersNum"))).reverse(),this.difficultWordsCollection=this.wordsCollection.slice(0,8).filter((t=>t.incorrectAnswersNum>0)),0===this.difficultWordsCollection.length?this.createPopupForEmptyDifficultWords():(this.mainContainer.innerHTML="",this.main.classList.remove("main-for-statistic"),v(this.difficultWordsCollection),this.gameElementsContainer.classList.remove("game-elements-container-invisible"))}createPopupForEmptyDifficultWords(){const t=f("div",this.mainContainer,"popup-container-empty-difficult"),e=f("div",t,"popup-empty-difficult");f("div",e,"popup-empty-title").innerText="No cards to show!",t.addEventListener("click",(()=>t.remove()),{once:!0}),setTimeout((()=>t.remove()),3e3)}}const d=document.querySelector(".main"),l=document.querySelector(".main-container"),u=document.querySelector(".train-mode"),h=document.querySelector(".play-mode"),p=document.querySelector(".burger-btn"),m=document.querySelector(".burger-menu-container"),g=document.querySelector(".play-button-container"),y=document.querySelector(".game-elements-container"),b=Array.from(document.querySelector(".burger-menu-list").children);function f(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const i=document.createElement(t);return e.append(i),i.classList.add(r),i}function w(t,e){for(let r in e)t.setAttribute(r,e[r])}function v(t){const e=document.createDocumentFragment();t.forEach((t=>{const r=t.createCardHTML();A()?(r.classList.add("word-card-in-play-mode","unplayed-word"),g.classList.add("play-button-container-visible"),l.classList.add("main-container-play-mode")):r.classList.add("word-card-in-train-mode"),e.append(r)})),l.append(e)}function C(){m.classList.remove("burger-menu-container--active"),p.classList.remove("burger-btn--active"),document.body.classList.remove("body-not-scroll")}function S(t,e){0===t.length?e.forEach((t=>t.classList.add("active"))):function(t){t.forEach((t=>t.classList.add("word-card-in-play-mode","unplayed-word"))),t.forEach((t=>t.classList.remove("word-card-in-train-mode"))),g.classList.add("play-button-container-visible"),l.classList.add("main-container-play-mode")}(t)}function L(t,e){0===t.length?e.forEach((t=>t.classList.remove("active"))):function(t){t.forEach((t=>t.classList.add("word-card-in-train-mode"))),t.forEach((t=>t.classList.remove("word-card-in-play-mode","unplayed-word","played-card"))),g.classList.remove("play-button-container-visible"),l.classList.remove("main-container-play-mode")}(t)}function A(){return document.querySelector(".switch-checkbox").checked}function T(t,e,r,i){if(localStorage[t]){const s=JSON.parse(localStorage[t]);s.trained+=e,s.correct+=r,s.incorrect+=i,localStorage[t]=JSON.stringify(s)}else{const s=function(t,e,r){const i={trained:t,correct:e,incorrect:r};return i}(e,r,i);localStorage[t]=JSON.stringify(s)}}function k(t){const e=new c(l,t);e.createAndShowStatisticButtons(),e.createAndShowStatisticHead(),e.createAndShowStatisticBody(),C(),y.classList.add("game-elements-container-invisible")}function E(){const t=document.getElementsByClassName("unplayed-word");new o(t).startGame()}function B(t){const e=t.target.closest(".brgr-menu-item"),r=t.target.closest(".category-card");b.forEach((t=>{t.firstElementChild.classList.remove("list-item-link-active"),((null==e?void 0:e.id)===t.id||t.id.includes(null==r?void 0:r.id))&&t.firstChild.classList.add("list-item-link-active")}))}r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p,r.p;const H=document.querySelector(".main-container"),N=document.querySelector(".switch"),P=document.querySelector(".play-button"),O=(M=i,Object.keys(M).map((t=>{const e=new s(t,"./assets/images/".concat(t,".png"));return M[t].forEach((r=>{const i=new a(t,"./assets/images/".concat(r[0].toLowerCase(),".png"),r[0],r[1],"./assets/audio/".concat(r[0].toLowerCase(),".mp3"));e.addChildToCollection(i)})),e})));var M;v(O),document.body.addEventListener("click",(t=>{const e=t.target;e.closest(".burger-btn")||"menu-container"===e.id?(m.classList.toggle("burger-menu-container--active"),p.classList.toggle("burger-btn--active"),document.body.classList.toggle("body-not-scroll")):"clearBtn"===e.id?(localStorage.clear(),k(O)):"statistic"===e.id?(B(t),k(O)):e.closest(".card-rotate-btn")?e.closest(".word-card").classList.add("card-reverse"):t.target.closest(".word-card")?(t=>{const e=t.target.closest(".word-card-in-train-mode");e&&(t.target.closest(".word-card").parent.playSound(),T(e.id,1,0,0))})(t):t.target.closest(".brgr-menu-item")||t.target.closest(".category-card")?(B(t),function(t,e){d.classList.remove("main-for-statistic"),y.classList.remove("game-elements-container-invisible");let r="";r=t.target.closest(".category-card")?t.target.closest(".category-card").id:t.target.closest(".category-menu-item").firstChild.innerText.toLowerCase(),C(),e.forEach((t=>{t.categoryName===r&&(l.innerHTML="",v(t.childrenCollection))}))}(t,O)):t.target.closest(".popup-container")&&location.reload()})),H.addEventListener("mouseout",(t=>function(t){if(t.target.closest(".word-card")&&t.relatedTarget){const e=t.target.closest(".word-card"),r=t.relatedTarget.closest(".word-card");(null==r?void 0:r.id)!==e.id&&e.classList.remove("card-reverse")}}(t))),N.addEventListener("change",(function(){const t=Array.from(document.querySelectorAll(".word-card")),e=document.querySelectorAll(".card-play-btn");h.classList.toggle("active"),u.classList.toggle("active"),A()?S(t,e):L(t,e)})),P.addEventListener("click",E,{once:!0})}},r={};function i(t){var s=r[t];if(void 0!==s)return s.exports;var a=r[t]={exports:{}};return e[t].call(a.exports,a,a.exports,i),a.exports}i.m=e,t=[],i.O=function(e,r,s,a){if(!r){var n=1/0;for(l=0;l<t.length;l++){r=t[l][0],s=t[l][1],a=t[l][2];for(var o=!0,c=0;c<r.length;c++)(!1&a||n>=a)&&Object.keys(i.O).every((function(t){return i.O[t](r[c])}))?r.splice(c--,1):(o=!1,a<n&&(n=a));if(o){t.splice(l--,1);var d=s();void 0!==d&&(e=d)}}return e}a=a||0;for(var l=t.length;l>0&&t[l-1][2]>a;l--)t[l]=t[l-1];t[l]=[r,s,a]},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t;i.g.importScripts&&(t=i.g.location+"");var e=i.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");if(r.length)for(var s=r.length-1;s>-1&&!t;)t=r[s--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=t}(),function(){var t={179:0};i.O.j=function(e){return 0===t[e]};var e=function(e,r){var s,a,n=r[0],o=r[1],c=r[2],d=0;if(n.some((function(e){return 0!==t[e]}))){for(s in o)i.o(o,s)&&(i.m[s]=o[s]);if(c)var l=c(i)}for(e&&e(r);d<n.length;d++)a=n[d],i.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return i.O(l)},r=self.webpackChunk=self.webpackChunk||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var s=i.O(void 0,[315],(function(){return i(123)}));s=i.O(s)}();